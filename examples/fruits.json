{
	"tasks": [
		{
			"method": "create_directory",
			"params": {
				"directory": "tmp"
			}
		},
		{
			"method": "http_request",
			"params": {
				"method": "GET",
				"_url": "https://data.world/alexandra/generic-food-database/workspace/file?filename=generic-food.csv",
				"url": "https://query.data.world/s/dlntl2d63fbz5iy74qsmf4utdzpdnb",
				"output_file": "tmp/generic-food.csv"
			}
		},
		{
			"method": "etl",
			"params": {
				"readers": [
					{
						"type": "CsvReader",
						"options": {
							"filename": "tmp/generic-food.csv"
						}
					}
				],
				"transformers": [
					{
						"type": "FilterTransformer",
						"options": {
							"filter": {
								"test": "in",
								"column_id": "GROUP",
								"values": [
									"Fruits"
								]
							}
						}
					},
					{
						"type": "RemoveColumnsTransformer",
						"options": {
							"columns": [
								{
									"column_id": "SUB GROUP"
								}
							]
						}
					},
					{
						"type": "AddColumnsTransformer",
						"options": {
							"columns": [
								{
									"column_id": "test",
									"type": "boolean",
									"default": true
								},
								{
									"column_id": "id",
									"type": "integer",
									"default": 0
								}
							]
						}
					},
					{
						"type": "AlterColumnsTransformer",
						"options": {
							"columns": [
								{
									"column_id": "id",
									"type": "float64"
								}
							]
						}
					}
				],
				"writers": [
					{
						"type": "StdOutWriter"
					},
					{
						"type": "CsvWriter",
						"options": {
							"filename": "tmp/fruits.csv"
						}
					},
					{
						"type": "JsonWriter",
						"options": {
							"filename": "tmp/fruits.json"
						}
					}
				]
			}
		},
		{
			"method": "sleep",
			"params": {
				"timeout": 5000
			}
		},
		{
			"method": "delete_file",
			"params": {
				"filename": "tmp/generic-food.csv"
			}
		}
	]
}
